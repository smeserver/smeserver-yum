diff -Nur -x '*.orig' -x '*.rej' smeserver-yum-1.1.0/root/etc/e-smith/web/functions/yum mezzanine_patched_smeserver-yum-1.1.0/root/etc/e-smith/web/functions/yum
--- smeserver-yum-1.1.0/root/etc/e-smith/web/functions/yum	2005-05-31 13:30:54.000000000 +1000
+++ mezzanine_patched_smeserver-yum-1.1.0/root/etc/e-smith/web/functions/yum	2005-05-31 13:21:44.000000000 +1000
@@ -232,7 +232,7 @@
 
  	<field
             type="select" multiple="1"
-            id="EnabledRepositories"
+            id="SelectedRepositories"
             options="get_repository_options()"
             value="get_repository_current_options()">
             <label>LABEL_ENABLED_REPOSITORIES</label>
diff -Nur -x '*.orig' -x '*.rej' smeserver-yum-1.1.0/root/usr/lib/perl5/site_perl/esmith/FormMagick/Panel/yum.pm mezzanine_patched_smeserver-yum-1.1.0/root/usr/lib/perl5/site_perl/esmith/FormMagick/Panel/yum.pm
--- smeserver-yum-1.1.0/root/usr/lib/perl5/site_perl/esmith/FormMagick/Panel/yum.pm	2005-05-31 13:30:54.000000000 +1000
+++ mezzanine_patched_smeserver-yum-1.1.0/root/usr/lib/perl5/site_perl/esmith/FormMagick/Panel/yum.pm	2005-05-31 13:30:35.000000000 +1000
@@ -45,12 +45,18 @@
 
 our %dbs;
 
-for ( qw(available installed repositories updates) )
+for ( qw(available installed updates) )
 {
     $dbs{$_} = esmith::ConfigDB->open_ro("/home/e-smith/yum_$_") or
 	die "Couldn't open yum_$_ DB\n";
 }
 
+for ( qw(repositories) )
+{
+    $dbs{$_} = esmith::ConfigDB->open("/home/e-smith/yum_$_") or
+	die "Couldn't open yum_$_ DB\n";
+}
+
 =pod 
 
 =head1 NAME
@@ -175,6 +181,18 @@
 	$db->set_prop('yum', $param, $q->param("yum_$param"));
     }
 
+    my %selected = map {$_ => 1} $q->param('SelectedRepositories');
+
+    foreach my $repos (
+	$dbs{repositories}->get_all_by_prop(type => "repository") )
+    {
+	$repos->set_prop("status", 
+		exists $selected{$repos->key} ? 'enabled' : 'disabled');
+
+    }
+
+    $dbs{repositories}->reload;
+
     unless ( system( "/sbin/e-smith/signal-event", "yum-modify" ) == 0 )
     {
 	$fm->error('ERROR_UPDATING');
